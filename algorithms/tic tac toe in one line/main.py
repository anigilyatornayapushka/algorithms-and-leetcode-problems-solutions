def main(a='.', b='.', c='.', d='.', e='.', f='.', g='.', h='.', i='.', count=0, table={'1':'a','2':'b','3':'c','4':'d','5':'e','6':'f','7':'g','8':'h','9':'i'}, symb={0:'X',1:'O'}): new={'a':a,'b':b,'c':c,'d':d,'e':e,'f':f,'g':g,'h':h,'i':i,'count':count,'table':table,'symb':symb}; [print(f'{a} {b} {c}\n{d} {e} {f}\n{g} {h} {i}\n'), exec(f'if (a != "." and a==b==c) or (d != "." and d==e==f) or (g != "." and g==h==i) or (a != "." and a==d==g) or (b != "." and b==e==h) or (c != "." and c==f==i) or (a != "." and a==e==i) or (c != "." and c==e==g): print("WINNER : {["X", "O"][(count+1)%2]}"); exit()'), exec('if "." not in [a, b, c, d, e, f, g, h, i]: print("TIE"); exit()'), z:=input(), print(''), exec("if z not in ['1','2','3','4','5','6','7','8','9']: print(''); print('input must be from 1 to 9'); print(''); main(**new)"), exec(f'if new["{table[z]}"] != ".": print(""); print("This cell is already taken."); print(""); main(**new)'), exec(f'new["{table[z]}"] = "{symb[count%2]}"; new["count"] += 1'), main(**new)]
main()
